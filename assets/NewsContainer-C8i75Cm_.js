import{l as Q,q as U,_ as V,r as p,o as m,c as b,b as t,F as g,s as O,g as x,w as L,e as w,t as v,d as E,j as J}from"./index-DBtjY0hd.js";import{r as Z,a as X,b as tt,c as et,d as st}from"./component-functions-CTQWCsXp.js";import{r as it,a as ot,b as nt}from"./scrollbar-Cx-hOsPq.js";import{F as at}from"./FooterView-DbpJ0oA6.js";import"./Logo-sm-BtUVgNEr.js";var $={exports:{}};/*!
  * Bootstrap offcanvas.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(a,d){(function(_,s){a.exports=s(Z(),X(),tt(),it(),et(),ot(),st(),nt())})(Q,function(_,s,o,f,h,n,l,A){const P="offcanvas",c=".bs.offcanvas",S=".data-api",B=`load${c}${S}`,F="Escape",k="show",y="showing",N="hiding",q="offcanvas-backdrop",T=".offcanvas.show",R=`show${c}`,K=`shown${c}`,M=`hide${c}`,C=`hidePrevented${c}`,I=`hidden${c}`,W=`resize${c}`,z=`click${c}${S}`,Y=`keydown.dismiss${c}`,j='[data-bs-toggle="offcanvas"]',G={backdrop:!0,keyboard:!0,scroll:!1},H={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class r extends _{constructor(e,i){super(e,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return G}static get DefaultType(){return H}static get NAME(){return P}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||s.trigger(this._element,R,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new A().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(y);const D=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(k),this._element.classList.remove(y),s.trigger(this._element,K,{relatedTarget:e})};this._queueCallback(D,this._element,!0)}hide(){if(!this._isShown||s.trigger(this._element,M).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(N),this._backdrop.hide();const i=()=>{this._element.classList.remove(k,N),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new A().reset(),s.trigger(this._element,I)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){s.trigger(this._element,C);return}this.hide()},i=!!this._config.backdrop;return new f({className:q,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?e:null})}_initializeFocusTrap(){return new n({trapElement:this._element})}_addEventListeners(){s.on(this._element,Y,e=>{if(e.key===F){if(this._config.keyboard){this.hide();return}s.trigger(this._element,C)}})}static jQueryInterface(e){return this.each(function(){const i=r.getOrCreateInstance(this,e);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}return s.on(document,z,j,function(u){const e=o.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),l.isDisabled(this))return;s.one(e,I,()=>{l.isVisible(this)&&this.focus()});const i=o.findOne(T);i&&i!==e&&r.getInstance(i).hide(),r.getOrCreateInstance(e).toggle(this)}),s.on(window,B,()=>{for(const u of o.find(T))r.getOrCreateInstance(u).show()}),s.on(window,W,()=>{for(const u of o.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&r.getOrCreateInstance(u).hide()}),h.enableDismissTrigger(r),l.defineJQueryPlugin(r),r})})($);var ct=$.exports;const rt=U(ct),lt={props:["articles"],data(){return{articlesOffcanvas:""}},methods:{getArticleId(a){this.$emit("hideOffcanvas",a),this.articlesOffcanvas.hide()}},mounted(){this.articlesOffcanvas=new rt(this.$refs.articlesOffcanvas)}},dt={class:"d-none d-md-block"},_t={id:"list-example",class:"list-group"},ft=t("button",{class:"btn d-flex align-items-center position-sticky end-100 newsBtn-mobile d-md-none",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasScrolling","aria-controls":"offcanvasScrolling"},[w(" 文章列表 "),t("span",{class:"material-symbols-outlined"}," double_arrow ")],-1),ht={ref:"articlesOffcanvas",class:"offcanvas offcanvas-start","data-bs-scroll":"true","data-bs-backdrop":"false",tabindex:"-1",id:"offcanvasScrolling","aria-labelledby":"offcanvasScrollingLabel"},ut=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasWithBothOptionsLabel"},"最新消息"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),mt={class:"offcanvas-body"};function pt(a,d,_,s,o,f){const h=p("RouterLink");return m(),b(g,null,[t("div",dt,[t("div",_t,[t("div",null,[(m(!0),b(g,null,O(_.articles,n=>(m(),x(h,{key:n.id,to:`/newscontainer/newsarticle/${n.id}`,class:"list-group-item list-group-item-action text-center py-3",exact:!0,onClick:l=>f.getArticleId(n)},{default:L(()=>[w(v(n.title),1)]),_:2},1032,["to","onClick"]))),128))])])]),ft,t("div",ht,[ut,t("div",mt,[t("div",null,[(m(!0),b(g,null,O(_.articles,n=>(m(),x(h,{key:n.id,to:`/newscontainer/newsarticle/${n.id}`,class:"list-group-item list-group-item-action py-3 border-bottom border-gray",exact:!0,onClick:l=>f.getArticleId(n)},{default:L(()=>[w(v(n.title),1)]),_:2},1032,["to","onClick"]))),128))])])],512)],64)}const bt=V(lt,[["render",pt]]);var gt={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"luminous",BASE_URL:"/luminous-brunch-vue-standard/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:vt,VITE_PATH:Et}=gt,wt={components:{NewSidebar:bt,FooterView:at},data(){return{isLoading:!1,articles:[],tempArticle:{},byStyle:{transition:"all 2s ease",opacity:"0"}}},mounted(){setTimeout(()=>{this.byStyle.opacity="1"},300),this.getArticles()},methods:{getArticleId(a){this.tempArticle=a},getArticles(){this.isLoading=!0;const a=`${vt}api/${Et}/articles`;this.$http.get(a).then(d=>{this.articles=d.data.articles,this.getArticleId(this.articles[0]),this.isLoading=!1}).catch(d=>{alert(d)})}}},At={class:"container font-color-gray-400"},St={class:"row mt-8 mb-8"},kt={class:"col-md-3"},yt=t("h4",{class:"text-center fw-bold font-NotoSerif list-title my-9 d-md-none d-none"},"最新消息",-1),Nt={class:"col-md-9"},Tt={class:"bg-pink px-4"},Ct=t("div",{class:"font-NotoSerif mb-5 d-flex align-items-center"},null,-1),It={class:"d-flex news-title justify-content-center align-items-center my-8"},Dt={class:"font-NotoSerif fw-bold"},Ot={class:"d-flex justify-content-center news-content-pic mb-5"},xt=["src","alt"],Lt={class:"news-text lh-base d-flex justify-content-center w-75 mx-auto"},Vt={class:"font-sans-serif"};function $t(a,d,_,s,o,f){const h=p("LoadingView"),n=p("NewSidebar"),l=p("FooterView");return m(),b(g,null,[E(h,{active:o.isLoading},null,8,["active"]),t("div",At,[t("div",St,[t("div",kt,[yt,E(n,{articles:o.articles,onHideOffcanvas:f.getArticleId},null,8,["articles","onHideOffcanvas"])]),t("div",Nt,[t("div",Tt,[Ct,t("div",It,[t("h2",Dt,v(o.tempArticle.title),1)]),t("div",Ot,[t("img",{src:o.tempArticle.image,width:"75%",style:J(o.byStyle),alt:o.tempArticle.title},null,12,xt)]),t("div",Lt,[t("p",Vt,v(o.tempArticle.description),1)])])])])]),E(l)],64)}const Mt=V(wt,[["render",$t]]);export{Mt as default};
