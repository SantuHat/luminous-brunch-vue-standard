import{l as J,q as Z,_ as P,r as p,o as m,c as g,b as t,F as b,s as D,g as O,w as x,e as A,t as v,d as E,j as X}from"./index-D3ALDIxH.js";import{r as tt,a as et,b as st,c as it,d as ot}from"./component-functions-B3MWMGAc.js";import{r as nt,a as at,b as ct}from"./scrollbar-D7CBEsxm.js";import{F as rt}from"./FooterView-DnfYDwq3.js";import"./Logo-sm-BtUVgNEr.js";var B={exports:{}};/*!
  * Bootstrap offcanvas.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(a,d){(function(c,s){a.exports=s(tt(),et(),st(),nt(),it(),at(),ot(),ct())})(J,function(c,s,o,_,f,n,h,w){const F="offcanvas",r=".bs.offcanvas",S=".data-api",q=`load${r}${S}`,R="Escape",k="show",y="showing",N="hiding",K="offcanvas-backdrop",T=".offcanvas.show",M=`show${r}`,W=`shown${r}`,z=`hide${r}`,C=`hidePrevented${r}`,$=`hidden${r}`,Y=`resize${r}`,j=`click${r}${S}`,G=`keydown.dismiss${r}`,H='[data-bs-toggle="offcanvas"]',Q={backdrop:!0,keyboard:!0,scroll:!1},U={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class l extends c{constructor(e,i){super(e,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Q}static get DefaultType(){return U}static get NAME(){return F}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||s.trigger(this._element,M,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new w().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(y);const I=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(k),this._element.classList.remove(y),s.trigger(this._element,W,{relatedTarget:e})};this._queueCallback(I,this._element,!0)}hide(){if(!this._isShown||s.trigger(this._element,z).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(N),this._backdrop.hide();const i=()=>{this._element.classList.remove(k,N),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new w().reset(),s.trigger(this._element,$)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){s.trigger(this._element,C);return}this.hide()},i=!!this._config.backdrop;return new _({className:K,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?e:null})}_initializeFocusTrap(){return new n({trapElement:this._element})}_addEventListeners(){s.on(this._element,G,e=>{if(e.key===R){if(this._config.keyboard){this.hide();return}s.trigger(this._element,C)}})}static jQueryInterface(e){return this.each(function(){const i=l.getOrCreateInstance(this,e);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}return s.on(document,j,H,function(u){const e=o.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),h.isDisabled(this))return;s.one(e,$,()=>{h.isVisible(this)&&this.focus()});const i=o.findOne(T);i&&i!==e&&l.getInstance(i).hide(),l.getOrCreateInstance(e).toggle(this)}),s.on(window,q,()=>{for(const u of o.find(T))l.getOrCreateInstance(u).show()}),s.on(window,Y,()=>{for(const u of o.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&l.getOrCreateInstance(u).hide()}),f.enableDismissTrigger(l),h.defineJQueryPlugin(l),l})})(B);var lt=B.exports;const dt=Z(lt),ht={props:["articles"],data(){return{articlesOffcanvas:""}},methods:{getArticleId(a){this.$emit("hideOffcanvas",a),this.articlesOffcanvas.hide()}},mounted(){this.articlesOffcanvas=new dt(this.$refs.articlesOffcanvas)}},_t={class:"d-none d-md-block"},ft={id:"list-example",class:"list-group"},ut=t("button",{class:"btn d-flex align-items-center position-sticky end-100 newsBtn-mobile d-md-none",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasScrolling","aria-controls":"offcanvasScrolling"},[A(" 文章列表 "),t("span",{class:"material-symbols-outlined"}," double_arrow ")],-1),mt={ref:"articlesOffcanvas",class:"offcanvas offcanvas-start","data-bs-scroll":"true","data-bs-backdrop":"false",tabindex:"-1",id:"offcanvasScrolling","aria-labelledby":"offcanvasScrollingLabel"},pt=t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvasWithBothOptionsLabel"},"最新消息"),t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),gt={class:"offcanvas-body"};function bt(a,d,c,s,o,_){const f=p("RouterLink");return m(),g(b,null,[t("div",_t,[t("div",ft,[t("div",null,[(m(!0),g(b,null,D(c.articles,n=>(m(),O(f,{key:n.id,to:`/newscontainer/newsarticle/${n.id}`,class:"list-group-item list-group-item-action text-center py-3",exact:!0,onClick:h=>_.getArticleId(n)},{default:x(()=>[A(v(n.title),1)]),_:2},1032,["to","onClick"]))),128))])])]),ut,t("div",mt,[pt,t("div",gt,[t("div",null,[(m(!0),g(b,null,D(c.articles,n=>(m(),O(f,{key:n.id,to:`/newscontainer/newsarticle/${n.id}`,class:"list-group-item list-group-item-action py-3 border-bottom border-gray",exact:!0,onClick:h=>_.getArticleId(n)},{default:x(()=>[A(v(n.title),1)]),_:2},1032,["to","onClick"]))),128))])])],512)],64)}const vt=P(ht,[["render",bt]]);var Et={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"luminous",BASE_URL:"/luminous-brunch-vue-standard/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:L,VITE_PATH:V}=Et,At={components:{NewSidebar:vt,FooterView:rt},data(){return{isLoading:!1,articles:[],tempArticle:{},byStyle:{transition:"all 2s ease",opacity:"0"}}},mounted(){setTimeout(()=>{this.byStyle.opacity="1"},300),this.initArticle(),this.getArticles()},methods:{getArticleId(a){this.tempArticle=a},getArticles(){this.isLoading=!0;const a=`${L}api/${V}/articles`;this.$http.get(a).then(d=>{this.articles=d.data.articles,this.initArticle(),this.isLoading=!1}).catch(d=>{alert(d)})},initArticle(){const a=this.$route.params.id;console.log(this.$route.params.id);const d=`${L}api/${V}/article/${a}`;this.$http.get(d).then(c=>{console.log(c.data),this.getArticleId(c.data.article)}).catch(c=>{alert(c)})}}},wt={class:"container font-color-gray-400"},St={class:"row mt-8 mb-8"},kt={class:"col-md-3"},yt=t("h4",{class:"text-center fw-bold font-NotoSerif list-title my-9 d-md-none d-none"},"最新消息",-1),Nt={class:"col-md-9"},Tt={class:"bg-pink px-4"},Ct=t("div",{class:"font-NotoSerif mb-5 d-flex align-items-center"},null,-1),$t={class:"d-flex news-title justify-content-center align-items-center my-8"},It={class:"font-NotoSerif fw-bold"},Dt={class:"d-flex justify-content-center news-content-pic mb-5"},Ot=["src","alt"],xt={class:"news-text lh-base d-flex justify-content-center w-75 mx-auto"},Lt={class:"font-sans-serif"};function Vt(a,d,c,s,o,_){const f=p("LoadingView"),n=p("NewSidebar"),h=p("FooterView");return m(),g(b,null,[E(f,{active:o.isLoading},null,8,["active"]),t("div",wt,[t("div",St,[t("div",kt,[yt,E(n,{articles:o.articles,onHideOffcanvas:_.getArticleId},null,8,["articles","onHideOffcanvas"])]),t("div",Nt,[t("div",Tt,[Ct,t("div",$t,[t("h2",It,v(o.tempArticle.title),1)]),t("div",Dt,[t("img",{src:o.tempArticle.image,width:"75%",style:X(o.byStyle),alt:o.tempArticle.title},null,12,Ot)]),t("div",xt,[t("p",Lt,v(o.tempArticle.description),1)])])])])]),E(h)],64)}const Mt=P(At,[["render",Vt]]);export{Mt as default};
