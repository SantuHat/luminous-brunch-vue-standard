import{m as _,a as i,_ as p,o,c as a,b as s,F as u,q as m,t as c,f as n}from"./index-BpIYV_EQ.js";import{c as r}from"./cartStore-DCoZSgmF.js";import{o as y}from"./orderStore-BBG0QSJw.js";const h={name:"MealList",props:{step:{type:Number||null,default:1},list:{type:Array,default(){return[]}},total:{type:Number,default:0}},methods:{..._(r,["delCart","putCart"])},computed:{...i(y,["orderItem","orderTotal"]),...i(r,["carts","final_total"])},data(){return{isLoading:!1}},watch:{carts(){this.step===1||this.step},orderItem(){this.step}}},b={class:"meals"},f={class:"meals-content"},v={class:"commodity-wrap d-flex"},k={class:"commodity-wrap-img"},C=["src","alt"],w={class:"commodity-wrap-content"},g={class:"product-title commodity-wrap-content-item"},q={class:"product-price commodity-wrap-content-item"},N={class:"product-qty"},x=["onClick","disabled"],L={class:"mx-2"},S=["onClick"],T={class:"commodity-wrap-control"},B={class:"product-delete-btn"},M=["onClick"],A=s("span",{class:"material-symbols-outlined px-2 px-md-0 pt-1"}," delete ",-1),F=[A],I={class:"product-subtotal"},U={class:"mb-0"},V={key:0,class:"text-center pb-3"},D={class:"fw-bold"};function E(d,$,e,j,z,G){return o(),a("div",b,[s("ul",f,[(o(!0),a(u,null,m(e.list,t=>(o(),a("li",{class:"meals-item-main",key:t.product_id},[s("div",v,[s("div",k,[s("img",{src:t.product.imageUrl,class:"me-2 toast-img",alt:t.product.imageUrl},null,8,C)]),s("div",w,[s("div",g,c(t.product.title),1),s("div",q," NT$ "+c(t.product.price),1),s("div",N,[e.step===1||e.step===null?(o(),a("button",{key:0,onClick:l=>{t.qty--,d.putCart(t.id,t.qty)},class:"btn btn-primary fw-bold",type:"button",disabled:t.qty===1},"–",8,x)):n("",!0),s("span",L,c(`${e.step===2||e.step===3?"×":""}${t.qty}`),1),e.step===1||e.step===null?(o(),a("button",{key:1,onClick:l=>{t.qty++,d.putCart(t.id,t.qty)},class:"btn btn-primary fw-bold",type:"button"},"+",8,S)):n("",!0)])]),s("div",T,[s("div",B,[e.step===1||e.step===null?(o(),a("button",{key:0,onClick:l=>d.delCart(t.id),type:"button",class:"btn btn-primary"},F,8,M)):n("",!0)]),s("div",I,[s("p",U,"小計 NT$ "+c(t.total),1)])])])]))),128))]),e.step?(o(),a("div",V,[s("span",D,"總金額NT$ "+c(e.total),1)])):n("",!0)])}const O=p(h,[["render",E]]);export{O as M};
