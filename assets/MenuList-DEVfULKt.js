import{_ as y,a as C,m as b,l as v,r,o,c as a,d,F as p,h as T,w as L,b as e,t as i,f as _,g as x}from"./index-DB9Op6xa.js";import{A as w}from"./AddCartToast-BZCSFjrn.js";import{c as h}from"./cartStore-DKVBm8m7.js";import"./bootstrap.esm-CSuV2MM8.js";var $={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"luminous",BASE_URL:"/luminous-brunch-vue-standard/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:k,VITE_PATH:A}=$,D={components:{AddCartToast:w},data(){return{apiData:{},productTemp:{},isLoading:!1}},mounted(){this.getProducts()},watch:{"$route.query":{handler(){this.getProducts()},deep:!0},cartUpdated(){this.$refs.addCartToast.show(),this.setCartUpdate()}},computed:{...C(h,["carts","status","cartUpdated"])},methods:{...b(h,["addCart","delCart","setCartUpdate"]),getProducts(s=""){this.isLoading=!0,v.get(`${k}/api/${A}/products?category=${this.$route.query.category}`).then(n=>{this.apiData=n.data.products,this.isLoading=!1}).catch(n=>{console.log(n),this.isLoading=!1})}}},V={class:"card-img object-fit"},E=["src"],P={class:"text-primary d-flex flex-column justify-content-center justify-content-lg-between p-lg-4 p-1"},j={class:"text-center mb-3"},I={class:"d-flex justify-content-center align-baseline"},S={class:"text-danger fw-bold"},U={key:0,class:"ms-3"},R={class:"d-grid"},B=["onClick","disabled"],N={key:0,class:"spinner-border text-secondary me-4",role:"status"},M=e("span",{class:"visually-hidden"},"Loading...",-1),q=[M],F=e("span",{class:"d-none d-lg-block"},"加入購物車",-1),H=e("span",{class:"material-symbols-outlined me-1 d-lg-none"}," shopping_cart ",-1);function O(s,n,z,G,c,J){const m=r("LoadingView"),g=r("RouterLink"),f=r("AddCartToast");return o(),a(p,null,[d(m,{active:c.isLoading},null,8,["active"]),(o(!0),a(p,null,T(this.apiData,t=>(o(),a("div",{key:t.id,class:"col-lg-4 col-6 mb-6"},[d(g,{to:`/menuDetail/${t.id}`,class:"card-menu w-100 h-100 d-flex flex-column justify-content-between text-center"},{default:L(()=>{var l,u;return[e("div",V,[e("img",{src:t.imageUrl,alt:"",class:"object-fit-cover w-100",title:"點擊可以查看餐點詳細資訊"},null,8,E)]),e("div",P,[e("p",j,i(t.title),1),e("div",I,[e("p",S,"NT$"+i(t.price),1),t.origin_price?(o(),a("del",U,i(t.origin_price),1)):_("",!0)])]),e("div",R,[e("button",{onClick:x(K=>s.addCart(t.id,t,1),["prevent"]),class:"btn btn-outline-primary py-3 d-flex justify-content-center align-items-center text-center",type:"button",disabled:t.id===((l=s.status)==null?void 0:l.addCartLoading)},[t.id===((u=s.status)==null?void 0:u.addCartLoading)?(o(),a("div",N,q)):_("",!0),F,H],8,B)])]}),_:2},1032,["to"])]))),128)),d(f,{ref:"addCartToast",productTemp:c.productTemp,onDeleteCart:s.delCart},null,8,["productTemp","onDeleteCart"])],64)}const Z=y(D,[["render",O]]);export{Z as default};
