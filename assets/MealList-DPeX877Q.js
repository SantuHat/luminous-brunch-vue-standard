import{m as _,a as i,_ as u,o,c as a,b as t,F as m,s as p,t as n,f as c,n as h,e as y}from"./index-DBtjY0hd.js";import{c as r}from"./cartStore-LRLj4nkE.js";import{o as f}from"./orderStore-NfmKqenC.js";const b={name:"MealList",props:{step:{type:Number||null,default:1},list:{type:Array,default(){return[]}},total:{type:Number,default:0}},methods:{..._(r,["delCart","putCart"])},computed:{...i(f,["orderItem","orderTotal"]),...i(r,["carts","final_total"])},data(){return{isLoading:!1}},watch:{carts(){this.step===1||this.step},orderItem(){this.step}}},k={class:"meals"},v={class:"meals-content"},C={class:"commodity-wrap d-flex"},g={class:"commodity-wrap-img me-md-2"},w=["src","alt"],N={class:"commodity-wrap-content"},x={class:"product-title commodity-wrap-content-item font-sans-serif"},q={class:"product-group d-flex"},T={class:"product-price commodity-wrap-content-item"},L={class:"product-qty"},S=["onClick","disabled"],B=["onClick"],M={class:"commodity-wrap-control"},V={class:"product-delete-btn ms-auto"},A=["onClick"],F=t("span",{class:"material-symbols-outlined pt-1 fs-6"}," delete ",-1),I=[F],U={class:"product-subtotal text-end ms-auto"},z=t("span",{class:"font-sans-serif d-inline-block me-md-1"},"小計",-1),D={class:"d-inline-block"},E={key:0,class:"text-center pb-3"},j={class:"fw-bold"},G=t("span",{class:"font-sans-serif"},"總計 NT",-1);function H(l,J,e,K,O,P){return o(),a("div",k,[t("ul",v,[(o(!0),a(m,null,p(e.list,s=>(o(),a("li",{class:"meals-item-main",key:s.product_id},[t("div",C,[t("div",g,[t("img",{src:s.product.imageUrl,class:"toast-img",alt:s.product.imageUrl},null,8,w)]),t("div",N,[t("div",x,n(s.product.title),1),t("div",q,[t("div",T," NT$ "+n(s.product.price),1),t("div",L,[e.step===1||e.step===null?(o(),a("button",{key:0,onClick:d=>{s.qty--,l.putCart(s.id,s.qty)},class:"btn btn-primary fw-bold",type:"button",disabled:s.qty===1},"–",8,S)):c("",!0),t("span",{class:h(["mealNum",{"mx-0":e.step===2||e.step===3,"mx-2":e.step===1}])},n(`${e.step===2||e.step===3?"×":""}${s.qty}`),3),e.step===1||e.step===null?(o(),a("button",{key:1,onClick:d=>{s.qty++,l.putCart(s.id,s.qty)},class:"btn btn-primary fw-bold",type:"button"},"+",8,B)):c("",!0)])])]),t("div",M,[t("div",V,[e.step===1||e.step===null?(o(),a("button",{key:0,onClick:d=>l.delCart(s.id),type:"button",class:"btn btn-primary text-right"},I,8,A)):c("",!0)]),t("div",U,[z,t("span",D,"NT$ "+n(s.total),1)])])])]))),128))]),e.step?(o(),a("div",E,[t("span",j,[G,y("$ "+n(e.total),1)])])):c("",!0)])}const X=u(b,[["render",H]]);export{X as M};
