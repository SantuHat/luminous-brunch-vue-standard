import{m as b,a as g,R as C,_ as v,r as _,o as c,c as p,b as t,d as o,w as n,e as a,n as h,t as m,f as M,F as f,g as L,p as F,h as V}from"./index-_e0xypRU.js";import{D as A}from"./bootstrap.esm-5g6zOfpm.js";import{c as y}from"./cartStore-3O4pVfKf.js";import{l as w}from"./loginStore-lu4PpkdS.js";import{_ as D}from"./Logo-sm-agtd1eo5.js";const j="/luminous-brunch-vue-standard/Logo-lg.png",S={name:"HeaderView",data(){return{isActive:!1,isMemberActive:!1,cartFrame:""}},methods:{...b(y,["getCarts","delCart"]),...b(w,["setLogin","getLogin"]),dropdownMenu(){this.isActive=!this.isActive},dropdownMemberCenter(){this.isMemberActive=!this.isMemberActive},logOut(){this.setLogin(!1),alert("已登出")},goChecking(){this.$router.push(this.isLogin?"/usercart":"/userlogin")}},computed:{...g(y,["cartData","cartTotal"]),...g(w,["isLogin"])},created(){this.getCarts()},mounted(){this.getLogin(),this.cartFrame=new A(this.$refs.cartFrame)},components:{RouterLink:C}},i=l=>(F("data-v-dcfb2b33"),l=l(),V(),l),$={class:"position-relative bg-light"},I={class:"nav"},R={class:"container-lg d-flex justify-content-between align-items-center py-5"},B=i(()=>t("img",{class:"d-none d-md-block",src:j,alt:"Logo-lg"},null,-1)),N=i(()=>t("img",{class:"d-md-none",src:D,alt:"Logo-sm"},null,-1)),T={class:"list-unstyled d-lg-flex mb-0 align-items-center dropdownNavbar bg-light"},H={class:"nav_item border-bottom-1"},O=i(()=>t("a",{class:"py-4 py-lg-3 px-5 fw-bold d-block",href:"#"},"關於我們",-1)),q={class:"nav_item border-bottom-1"},z=i(()=>t("a",{class:"py-4 py-lg-3 px-5 fw-bold d-block",href:"#"},"最新消息/優惠",-1)),E={class:"nav_item"},U=i(()=>t("span",{class:"material-symbols-outlined align-bottom"}," arrow_drop_down ",-1)),G={class:"nav_item border-bottom-1 me-2",id:"cartFrame","data-bs-toggle":"dropdown","aria-expanded":"false",ref:"cartFrame"},J={class:"py-lg-2 px-1 fw-bold d-block d-flex position-relative",href:"javascript:;"},K=i(()=>t("span",{class:"material-symbols-outlined me-1"}," shopping_cart ",-1)),P={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-secondary"},Q=i(()=>t("span",{class:"visually-hidden"},"unread messages",-1)),W={class:"dropdown-menu bg-pink","aria-labelledby":"cartFrame"},X={key:0,class:"text-center py-3"},Y={class:"dropdown-item d-flex justify-content-between align-items-center",href:"#"},Z=["src"],tt=["onClick"],et=i(()=>t("span",{class:"material-symbols-outlined pt-1"}," delete ",-1)),st=[et],ot={class:"dropdown-menu-footer text-center position-relative"},lt={class:"cartFinalTotal py-3 px-5 mt-3 d-block fw-bold"},nt=["disabled"],at={key:0,class:"memberCenterItem"},it=i(()=>t("span",{class:"material-symbols-outlined align-bottom"}," arrow_drop_down ",-1)),rt={key:1,class:"memberLogin"},dt=i(()=>t("a",{class:"hamberMenu d-lg-none",href:"#"},[t("span",{class:"material-symbols-outlined"}," menu ")],-1)),ct=i(()=>t("a",{class:"closeIcon d-lg-none",href:"#",style:{display:"none"}},[t("span",{class:"material-symbols-outlined"}," close ")],-1)),pt=i(()=>t("div",{class:"navbar_overlay"},null,-1));function mt(l,r,x,k,u,d){const s=_("RouterLink");return c(),p(f,null,[t("header",$,[t("nav",I,[t("div",R,[o(s,{to:"/"},{default:n(()=>[B,N]),_:1}),t("ul",T,[t("li",H,[o(s,{to:"/aboutus"},{default:n(()=>[O]),_:1})]),t("li",q,[o(s,{to:"/newsmain"},{default:n(()=>[z]),_:1})]),t("li",E,[t("a",{onClick:r[0]||(r[0]=(...e)=>d.dropdownMenu&&d.dropdownMenu(...e)),class:"py-4 px-5 fw-bold position-relative selectMenu d-block border-bottom-1 d-flex justify-content-between",href:"javascript:;"},[a("線上訂餐"),U]),t("ul",{class:h(["dropdownMenu position_absolute_lg list-unstyled ps-0",{active:u.isActive}])},[t("li",null,[o(s,{class:"py-4 px-9 py-lg-3 px-lg-6 border-bottom-1 fw-500",to:"/menuview/menulist?category=salad"},{default:n(()=>[a("沙拉系列")]),_:1})]),t("li",null,[o(s,{class:"py-4 px-9 py-lg-3 px-lg-6 border-bottom-1 fw-500",to:"/menuview/menulist?category=burger"},{default:n(()=>[a("漢堡系列")]),_:1})]),t("li",null,[o(s,{class:"py-4 px-9 py-lg-3 px-lg-6 border-bottom-1 fw-500",to:"/menuview/menulist?category=sandwich"},{default:n(()=>[a("三明治系列")]),_:1})]),t("li",null,[o(s,{class:"py-4 px-9 py-lg-3 px-lg-6 border-bottom-1 fw-500",to:"/menuview/menulist?category=brunch"},{default:n(()=>[a("早午餐拼盤")]),_:1})]),t("li",null,[o(s,{class:"py-4 px-9 py-lg-3 px-lg-6 border-bottom-1 fw-500",to:"/menuview/menulist?category=pasta"},{default:n(()=>[a("義大利麵系列")]),_:1})]),t("li",null,[o(s,{class:"py-4 px-9 py-lg-3 px-lg-6 border-bottom-1 fw-500",to:"/menuview/menulist?category=drink"},{default:n(()=>[a("飲品")]),_:1})])],2)]),t("li",G,[t("a",J,[K,t("span",P,[a(m(l.cartData.length)+" ",1),Q])])],512),t("div",W,[t("div",{class:"dropdown-menu-content",onClick:r[1]||(r[1]=M(()=>{},["stop"]))},[l.cartData.length?(c(!0),p(f,{key:1},L(l.cartData,e=>(c(),p("ul",{key:e.id,class:"list-unstyled"},[t("div",Y,[t("img",{src:e.product.imageUrl,class:"rounded me-2 toast-img",alt:"..."},null,8,Z),t("span",null,m(e.product.title)+" × "+m(e.qty),1),t("span",null," $"+m(e.total),1),t("button",{type:"button",class:"btn btn-primary",onClick:ht=>l.delCart(e.id)},st,8,tt)])]))),128)):(c(),p("h5",X,"購物車沒有任何品項~"))]),t("div",ot,[t("span",lt," 總計 NT$ "+m(l.cartTotal),1),t("button",{disabled:l.cartData.length===0,onClick:r[2]||(r[2]=(...e)=>d.goChecking&&d.goChecking(...e)),type:"button",class:"checkoutBtn position-absolute btn btn-primary py-3 px-5 mt-3"},"前往結帳",8,nt)])]),l.isLogin?(c(),p("li",at,[t("a",{onClick:r[3]||(r[3]=(...e)=>d.dropdownMemberCenter&&d.dropdownMemberCenter(...e)),class:"selectMemberCenter py-4 px-5 fw-bold position-relative d-block border-bottom-1 d-flex justify-content-between",href:"javascript:;"},[a("會員中心"),it]),t("ul",{class:h(["dropdownMemberCenter position_absolute_lg list-unstyled ps-0",{active:u.isMemberActive}])},[t("li",null,[o(s,{class:"py-4 px-9 py-lg-3 px-lg-6 border-bottom-1 fw-500",to:"/userorders"},{default:n(()=>[a("查看訂單資訊")]),_:1})]),t("li",{onClick:r[4]||(r[4]=(...e)=>d.logOut&&d.logOut(...e))},[o(s,{class:"logOutBtn py-4 px-9 py-lg-3 px-lg-6 border-bottom-1 fw-500",to:"/"},{default:n(()=>[a("登出")]),_:1})])],2)])):(c(),p("li",rt,[o(s,{to:"/userlogin",class:"py-4 py-lg-3 px-5 fw-bold d-block"},{default:n(()=>[a("會員註冊/登入")]),_:1})]))]),dt,ct])])]),pt],64)}const ut=v(S,[["render",mt],["__scopeId","data-v-dcfb2b33"]]),_t={components:{HeaderView:ut}},bt={class:"home"};function gt(l,r,x,k,u,d){const s=_("HeaderView"),e=_("RouterView");return c(),p("div",bt,[o(s),o(e)])}const kt=v(_t,[["render",gt]]);export{kt as default};
