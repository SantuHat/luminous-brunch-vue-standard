import{m as _,a as i,_ as u,o,c as a,b as s,F as p,k as m,t as c,f as n}from"./index-Bp_NOMjC.js";import{c as r}from"./cartStore-BpMoB2f7.js";import{o as y}from"./orderStore-Bilomhfa.js";const h={name:"MealList",props:{step:{type:Number||null,default:1},list:{type:Array,default(){return[]}},total:{type:Number,default:0}},methods:{..._(r,["delCart","putCart"])},computed:{...i(y,["orderItem","orderTotal"]),...i(r,["carts","final_total"])},data(){return{isLoading:!1}},watch:{carts(){this.step===1||this.step},orderItem(){this.step}}},b={class:"meals"},f={class:"meals-content"},k={class:"commodity-wrap d-flex"},v={class:"commodity-wrap-img"},C=["src","alt"],w={class:"commodity-wrap-content"},g={class:"product-title commodity-wrap-content-item"},q={class:"product-price commodity-wrap-content-item"},N={class:"commodity-wrap-control"},x={class:"product-qty"},L=["onClick","disabled"],S={class:"mx-3"},T=["onClick"],B={class:"product-subtotal"},M={class:"product-delete-btn"},A=["onClick"],F=s("span",{class:"material-symbols-outlined px-2 px-md-0 pt-1"}," delete ",-1),I=[F],U={key:0,class:"text-center pb-3"},V={class:"fw-bold"};function D(d,E,e,$,j,z){return o(),a("div",b,[s("ul",f,[(o(!0),a(p,null,m(e.list,t=>(o(),a("li",{class:"meals-item-main",key:t.product_id},[s("div",k,[s("div",v,[s("img",{src:t.product.imageUrl,class:"me-2 toast-img",alt:t.product.imageUrl},null,8,C)]),s("div",w,[s("div",g,c(t.product.title),1),s("div",q," NT$ "+c(t.product.price),1)]),s("div",N,[s("div",x,[e.step===1||e.step===null?(o(),a("button",{key:0,onClick:l=>{t.qty--,d.putCart(t.id,t.qty)},class:"btn btn-primary fw-bold",type:"button",disabled:t.qty===1},"–",8,L)):n("",!0),s("span",S,c(`${e.step===2||e.step===3?"×":""}${t.qty}`),1),e.step===1||e.step===null?(o(),a("button",{key:1,onClick:l=>{t.qty++,d.putCart(t.id,t.qty)},class:"btn btn-primary fw-bold",type:"button"},"+",8,T)):n("",!0)]),s("div",B," NT$ "+c(t.total),1),s("div",M,[e.step===1||e.step===null?(o(),a("button",{key:0,onClick:l=>d.delCart(t.id),type:"button",class:"btn btn-primary"},I,8,A)):n("",!0)])])])]))),128))]),e.step?(o(),a("div",U,[s("span",V,"總金額NT$ "+c(e.total),1)])):n("",!0)])}const K=u(h,[["render",D]]);export{K as M};
