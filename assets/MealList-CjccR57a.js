import{m as p,a as i,_ as u,o,c as a,b as t,F as m,q as y,t as c,f as n,e as r}from"./index-DHhKwbeo.js";import{c as _}from"./cartStore-CwPp1H0B.js";import{o as h}from"./orderStore-C-3D3eOo.js";const b={name:"MealList",props:{step:{type:Number||null,default:1},list:{type:Array,default(){return[]}},total:{type:Number,default:0}},methods:{...p(_,["delCart","putCart"])},computed:{...i(h,["orderItem","orderTotal"]),...i(_,["carts","final_total"])},data(){return{isLoading:!1}},watch:{carts(){this.step===1||this.step},orderItem(){this.step}}},f={class:"meals"},v={class:"meals-content"},k={class:"commodity-wrap d-flex"},C={class:"commodity-wrap-img"},w=["src","alt"],g={class:"commodity-wrap-content"},q={class:"product-title commodity-wrap-content-item font-sans-serif"},N={class:"product-price commodity-wrap-content-item"},x={class:"product-qty"},T=["onClick","disabled"],L={class:"mx-2"},S=["onClick"],B={class:"commodity-wrap-control"},M={class:"product-delete-btn"},V=["onClick"],A=t("span",{class:"material-symbols-outlined px-2 px-md-0 pt-1"}," delete ",-1),F=[A],I={class:"product-subtotal"},U={class:"mb-0"},D=t("span",{class:"font-sans-serif"},"小計",-1),E={key:0,class:"text-center pb-3"},$={class:"fw-bold"},j=t("span",{class:"font-sans-serif"},"總金額 NT",-1);function z(d,G,e,H,J,K){return o(),a("div",f,[t("ul",v,[(o(!0),a(m,null,y(e.list,s=>(o(),a("li",{class:"meals-item-main",key:s.product_id},[t("div",k,[t("div",C,[t("img",{src:s.product.imageUrl,class:"me-2 toast-img",alt:s.product.imageUrl},null,8,w)]),t("div",g,[t("div",q,c(s.product.title),1),t("div",N," NT$ "+c(s.product.price),1),t("div",x,[e.step===1||e.step===null?(o(),a("button",{key:0,onClick:l=>{s.qty--,d.putCart(s.id,s.qty)},class:"btn btn-primary fw-bold",type:"button",disabled:s.qty===1},"–",8,T)):n("",!0),t("span",L,c(`${e.step===2||e.step===3?"×":""}${s.qty}`),1),e.step===1||e.step===null?(o(),a("button",{key:1,onClick:l=>{s.qty++,d.putCart(s.id,s.qty)},class:"btn btn-primary fw-bold",type:"button"},"+",8,S)):n("",!0)])]),t("div",B,[t("div",M,[e.step===1||e.step===null?(o(),a("button",{key:0,onClick:l=>d.delCart(s.id),type:"button",class:"btn btn-primary"},F,8,V)):n("",!0)]),t("div",I,[t("p",U,[D,r(" NT$ "+c(s.total),1)])])])])]))),128))]),e.step?(o(),a("div",E,[t("span",$,[j,r("$ "+c(e.total),1)])])):n("",!0)])}const R=u(b,[["render",z]]);export{R as M};
