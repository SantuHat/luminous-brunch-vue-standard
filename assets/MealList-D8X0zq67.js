import{m as p,a as r,_ as u,o,c as e,b as s,F as h,h as m,t as c,f as i}from"./index-DB9Op6xa.js";import{c as _}from"./cartStore-DKVBm8m7.js";import{o as y}from"./orderStore-BReBz5Dw.js";const b={name:"MealList",props:{step:{type:Number,default:1}},methods:{...p(_,["delCart","putCart"])},computed:{...r(y,["orderItem","orderTotal"]),...r(_,["carts","final_total"])},data(){return{list:[],isLoading:!1,total:0}},watch:{carts(){(this.step===1||this.step===2)&&(this.list=this.carts,this.total=this.final_total)},orderItem(){this.step===3&&(this.list=this.orderItem,this.total=this.orderTotal)}}},f={class:"meals"},k={class:"meals-content"},v={class:"commodity-wrap d-flex"},C={class:"commodity-wrap-img"},w=["src","alt"],g={class:"commodity-wrap-content"},q={class:"product-title commodity-wrap-content-item"},N={class:"product-price commodity-wrap-content-item"},T={class:"commodity-wrap-control"},x={class:"product-qty"},L=["onClick","disabled"],S={key:1},B={key:2},I=["onClick"],M={class:"product-subtotal"},F={class:"product-delete-btn"},U=["onClick"],V=s("span",{class:"material-symbols-outlined px-2 px-md-0 pt-1"}," delete ",-1),$=[V],A={class:"text-center pb-3"},D={class:"fw-bold"};function E(d,j,a,z,n,G){return o(),e("div",f,[s("ul",k,[(o(!0),e(h,null,m(n.list,t=>(o(),e("li",{class:"meals-item-main",key:t.product_id},[s("div",v,[s("div",C,[s("img",{src:t.product.imageUrl,class:"me-2 toast-img",alt:t.product.imageUrl},null,8,w)]),s("div",g,[s("div",q,c(t.product.title),1),s("div",N," NT$ "+c(t.product.price),1)]),s("div",T,[s("div",x,[a.step===1?(o(),e("button",{key:0,onClick:l=>{t.qty--,d.putCart(t.id,t.qty)},class:"btn fw-bold",type:"button",disabled:t.qty===1},"–",8,L)):i("",!0),a.step===1?(o(),e("span",S,c(t.qty),1)):i("",!0),a.step===2||a.step===3?(o(),e("span",B," × "+c(t.qty),1)):i("",!0),a.step===1?(o(),e("button",{key:3,onClick:l=>{t.qty++,d.putCart(t.id,t.qty)},class:"btn fw-bold",type:"button"},"+",8,I)):i("",!0)]),s("div",M," NT$ "+c(t.total),1),s("div",F,[a.step===1?(o(),e("button",{key:0,onClick:l=>d.delCart(t.id),type:"button",class:"btn btn-primary"},$,8,U)):i("",!0)])])])]))),128))]),s("div",A,[s("span",D,"總金額NT$ "+c(n.total),1)])])}const O=u(b,[["render",E]]);export{O as M};
